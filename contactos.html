<!doctype html>
<html lang="es">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>SuperHN | Contacto</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <meta name="color-scheme" content="light dark" />
    <meta name="theme-color" content="#343a40" media="(prefers-color-scheme: light)" />
    <meta name="theme-color" content="#212529" media="(prefers-color-scheme: dark)" />
    <meta name="title" content="SuperHN | Contacto" />
    <meta name="author" content="Juan Lopez" />
    <meta name="description" content="Página de contacto y comentarios para SuperHN." />
    <link rel="preload" href="./css/adminlte.css" as="style" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/source-sans-3@5.0.12/index.css" integrity="sha256-tXJfXfp6Ewt1ilPzLDtQnJV4hclT9XuaZUKyUvmyr+Q=" crossorigin="anonymous" media="print" onload="this.media='all'" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.11.0/styles/overlayscrollbars.min.css" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" crossorigin="anonymous" />
    <link rel="stylesheet" href="./css/adminlte.css" />
    <style>
        /* Custom Colors & Styles for Sabor Express */
        :root {
            --se-primary: #86b96e; /* Green */
            --se-secondary: #f0ad4e; /* Orange */
            --se-dark: #2c3e50; /* Dark blue-grey */
            --se-light: #ecf0f1; /* Light grey */
            --se-text-dark: #34495e; /* Darker blue-grey for text */
        }
        .bg-se-primary { background-color: var(--se-primary) !important; }
        .bg-se-dark { background-color: var(--se-dark) !important; }
        .text-se-primary { color: var(--se-primary) !important; }
        .btn-se-primary {
            background-color: var(--se-primary);
            color: white;
        }
        .btn-se-primary:hover { background-color: #72a35d; }
        .btn-se-secondary {
            background-color: var(--se-secondary);
            color: white;
        }
        .btn-se-secondary:hover { background-color: #e09939; }
        .app-header, .app-sidebar { background-color: var(--se-dark) !important; }
        .app-sidebar .nav-link.active {
            background-color: var(--se-primary) !important;
            color: white !important;
        }
        .app-sidebar .nav-link:not(.active):hover { background-color: rgba(255, 255, 255, 0.1) !important; }
        .app-main { background-color: var(--se-light); }
        .app-footer {
            background-color: #f8f9fa;
            border-top: 1px solid #dee2e6;
        }
        .contact-form-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            padding: 2rem;
            max-width: 800px;
            margin: 2rem auto;
        }
        .comments-section {
            margin-top: 3rem;
            padding: 2rem;
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            max-width: 800px;
            margin: 2rem auto;
        }
        .comment {
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 1rem;
            margin-bottom: 1rem;
        }
        .comment:last-child {
            border-bottom: none;
        }
        .comment-author {
            font-weight: bold;
            color: var(--se-text-dark);
        }
        .comment-text {
            color: #6c757d;
        }
    </style>
</head>
<body class="layout-fixed sidebar-expand-lg sidebar-open bg-body-tertiary">
    <div class="app-wrapper">
        <nav class="app-header navbar navbar-expand bg-se-dark">
            <div class="container-fluid">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link text-white" data-lte-toggle="sidebar" href="#" role="button">
                            <i class="bi bi-list"></i>
                        </a>
                    </li>
                    <li class="nav-item d-none d-md-block">
                        <a href="inicio.html" class="nav-link text-white">Inicio</a>
                    </li>
                    <li class="nav-item d-none d-md-block">
                        <a href="contactos.html" class="nav-link active text-white">Contacto</a>
                    </li>
                </ul>
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item dropdown user-menu">
                        <a href="#" class="nav-link dropdown-toggle text-white" data-bs-toggle="dropdown">
                            <img src="assets/img/user-photo.jpg" class="user-image rounded-circle shadow" alt="User Image" />
                            <span class="d-none d-md-inline" style="color:white;" id="userEmailHeader">Invitado</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-lg dropdown-menu-end bg-se-dark">
                            <li class="user-header bg-se-primary">
                                <img src="assets/img/user-photo.jpg" class="rounded-circle shadow" alt="User Image" />
                                <p class="text-white">
                                    <span id="userEmailDisplay">Invitado</span> - Usuario
                                    <small>No miembro</small>
                                </p>
                            </li>
                            <li class="user-footer d-flex justify-content-between">
                                <a href="#" class="btn btn-se btn-se-secondary">Perfil</a>
                                <a href="login.html" class="btn btn-se btn-se-secondary">Cerrar sesión</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>
        <aside class="app-sidebar bg-se-dark" data-bs-theme="dark">
            <div class="sidebar-brand text text-white">
                <a href="./index.html" class="brand-link">
                    <img src="assets/img/logo-sabor.png" alt="Sabor Express Logo" class="brand-image opacity-75 shadow" />
                    <span class="brand-text fw-light" style="font-size: 1.5rem;">Sabor Express</span>
                </a>
            </div>
            <div class="sidebar-wrapper">
                <nav class="mt-2">
                    <ul class="nav sidebar-menu flex-column" data-lte-toggle="treeview" role="navigation" aria-label="Main navigation" data-accordion="false" id="navigation">
                        <li class="nav-header">MENÚ PRINCIPAL</li>
                        <li class="nav-item">
                            <a href="inicio.html" class="nav-link">
                                <i class="nav-icon bi bi-house-door"></i>
                                <p>Inicio</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="contactos.html" class="nav-link active">
                                <i class="nav-icon bi bi-envelope"></i>
                                <p>Contacto</p>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </aside>
        <main class="app-main">
            <div class="app-content-header">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-6">
                            <h3 class="mb-0">Contacto</h3>
                        </div>
                        <div class="col-sm-6">
                            <ol class="breadcrumb float-sm-end">
                                <li class="breadcrumb-item"><a href="#">Inicio</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Contacto</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            <div class="app-content">
                <div class="container-fluid">
                    <div class="contact-form-card">
                        <h2 class="mb-4">Envíanos un Mensaje</h2>
                        <p>Nos encantaría escuchar tus preguntas, sugerencias o comentarios. ¡Estamos aquí para ayudarte!</p>
                        <form id="comment-form">
                            <div class="mb-3">
                                <label for="contactName" class="form-label">Nombre Completo</label>
                                <input type="text" class="form-control" id="contactName" name="contactName" required>
                            </div>
                            <div class="mb-3">
                                <label for="contactEmail" class="form-label">Correo Electrónico</label>
                                <input type="email" class="form-control" id="contactEmail" name="contactEmail" required>
                            </div>
                            <div class="mb-3">
                                <label for="contactMessage" class="form-label">Mensaje o Comentario</label>
                                <textarea class="form-control" id="contactMessage" name="contactMessage" rows="5" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-se-primary">Enviar Comentario</button>
                        </form>
                    </div>
                    <div class="comments-section" id="comments-list">
                        <h2 class="mb-4">Comentarios Recientes</h2>
                        <div id="comments-container">
                            </div>
                    </div>
                </div>
            </div>
        </main>
        <footer class="app-footer">
            <div class="float-end d-none d-sm-inline" style="font-style: normal;">
                El sabor que te acerca a casa.
            </div>
            <strong>
                Copyright &copy; 2024- 2025
                &nbsp;
                <a href="#" class="text-decoration-none" style="font-style: normal;">SuperHN</a>.
            </strong>
            <span style="font-style: normal;">Todos los derechos reservados.</span>
        </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.11.0/browser/overlayscrollbars.browser.es6.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="./js/adminlte.js"></script>
    <script>
        const SELECTOR_SIDEBAR_WRAPPER = '.sidebar-wrapper';
        const Default = {
            scrollbarTheme: 'os-theme-light',
            scrollbarAutoHide: 'leave',
            scrollbarClickScroll: true,
        };
        document.addEventListener('DOMContentLoaded', function () {
            const sidebarWrapper = document.querySelector(SELECTOR_SIDEBAR_WRAPPER);
            if (sidebarWrapper && OverlayScrollbarsGlobal?.OverlayScrollbars !== undefined) {
                OverlayScrollbarsGlobal.OverlayScrollbars(sidebarWrapper, {
                    scrollbars: {
                        theme: Default.scrollbarTheme,
                        autoHide: Default.scrollbarAutoHide,
                        clickScroll: Default.scrollbarClickScroll,
                    },
                });
            }

            // Lógica para mostrar el comentario de la URL
            const urlParams = new URLSearchParams(window.location.search);
            const nameParam = urlParams.get('name');
            const messageParam = urlParams.get('message');
            const commentsContainer = document.getElementById('comments-container');

            if (nameParam && messageParam) {
                const name = decodeURIComponent(nameParam);
                const message = decodeURIComponent(messageParam);
                
                const commentDiv = document.createElement('div');
                commentDiv.classList.add('comment');
                commentDiv.innerHTML = `
                    <p>
                        <span class="comment-author">${name}</span>
                        <span class="comment-text">dijo:</span>
                    </p>
                    <p>"${message}"</p>
                `;
                commentsContainer.prepend(commentDiv);
            }
            
        });

        document.getElementById('comment-form').addEventListener('submit', function(e) {
            e.preventDefault();

            const name = document.getElementById('contactName').value;
            const message = document.getElementById('contactMessage').value;

            const nameEncoded = encodeURIComponent(name);
            const messageEncoded = encodeURIComponent(message);

            window.location.href = `contactos.html?name=${nameEncoded}&message=${messageEncoded}`;
        });
        
        const urlParams = new URLSearchParams(window.location.search);
        const userEmail = urlParams.get('email');
        const emailDisplayElement = document.getElementById('userEmailDisplay');
        const emailHeaderElement = document.getElementById('userEmailHeader');
        if (userEmail) {
            if (emailDisplayElement) {
                emailDisplayElement.textContent = decodeURIComponent(userEmail);
            }
            if (emailHeaderElement) {
                emailHeaderElement.textContent = decodeURIComponent(userEmail);
            }
        }
    </script>
</body>
</html>